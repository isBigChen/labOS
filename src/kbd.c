#include <kbd.h>

const uint8_t normal_keymap[128] = {
    NO,   0x1B, '1',  '2',  '3',  '4',  '5',  '6',      // 0x00
    '7',  '8',  '9',  '0',  '-',  '=',  '\b', '\t',     // 0x08
    'q',  'w',  'e',  'r',  't',  'y',  'u',  'i',      // 0x10
    'o',  'p',  '[',  ']',  '\n', NO,   'a',  's',      // 0x18
    'd',  'f',  'g',  'h',  'j',  'k',  'l',  ';',      // 0x20
    '\'', '`',  NO,   '\\', 'z',  'x',  'c',  'v',      // 0x28
    'b',  'n',  'm',  ',',  '.',  '/',  NO,   '*',      // 0x30
    NO,   ' ',  NO,   NO,   NO,   NO,   NO,   NO,       // 0x38
    NO,   NO,   NO,   NO,   NO,   NO,   NO,   '7',      // 0x40
    '8',  '9',  '-',  '4',  '5',  '6',  '+',  '1',      // 0x48
    '2',  '3',  '0',  '.',  NO,   NO,   NO,   NO,       // 0x50
};

const uint8_t shift_keymap[128] = {
    NO,   0x1B, '!',  '@',  '#',  '$',  '%',  '^',      // 0x00
    '&',  '*',  '(',  ')',  '_',  '+',  '\b', '\t',     // 0x08
    'Q',  'W',  'E',  'R',  'T',  'Y',  'U',  'I',      // 0x10
    'O',  'P',  '{',  '}',  '\n', NO,   'A',  'S',      // 0x18
    'D',  'F',  'G',  'H',  'J',  'K',  'L',  ':',      // 0x20
    '"',  '~',  NO,   '|',  'Z',  'X',  'C',  'V',      // 0x28
    'B',  'N',  'M',  '<',  '>',  '?',  NO,   '*',      // 0x30
    NO,   ' ',  NO,   NO,   NO,   NO,   NO,   NO,       // 0x38
    NO,   NO,   NO,   NO,   NO,   NO,   NO,   '7',      // 0x40
    '8',  '9',  '-',  '4',  '5',  '6',  '+',  '1',      // 0x48
    '2',  '3',  '0',  '.',  NO,   NO,   NO,   NO,       // 0x50
};

const char * test_keymap[128] = {
    NO,      "ESC",  "1",         "2",   "3",      "4",        "5",          "6",      // 0x00
    "7",     "8",    "9",         "0",   "-",      "=",        "BACKSPACE",  "TAB",    // 0x08
    "q",     "w",    "e",         "r",   "t",      "y",        "u",          "i",      // 0x10
    "o",     "p",    "[",         "]",   "ENTER",  "CTRL",     "a",          "s",      // 0x18
    "d",     "f",    "g",         "h",   "j",      "k",        "l",          ";",      // 0x20
    "'",     "`",    "SHIFT",     "\\",  "z",      "x",        "c",          "v",      // 0x28
    "b",     "n",    "m",         ",",   ".",      "/",        "SHIFT",      "*",      // 0x30
    "ALT",   " ",    "CAPSLOCK",  "F1",  "F2",     "F3",       "F4",         "F5",     // 0x38
    "F6",    "F7",   "F8",        "F9",  "F10",    "NUMLOCK",  "SCRLOCK",    "7",      // 0x40
    "8",     "9",    "-",         "4",   "5",      "6",        "+",          "1",      // 0x48
    "2",     "3",    "0",         ".",   "F11",    "F12",      NO,           NO,       // 0x50
};

uint8_t switch_alpha_case(uint8_t c) {
    if (c >= 'a' && c <= 'z') {
        return c - ('a' - 'A');
    } else if (c >= 'A' && c <= 'Z') {
        return c + ('a' - 'A');
    } else {
        return c;
    }
}
